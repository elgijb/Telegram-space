### README.md

# Telegram Space Bot

## Обзор

Проект Telegram Space Bot предназначен для загрузки и публикации фотографий космоса из различных источников в Telegram-канал. Он поддерживает загрузку изображений из SpaceX, NASA APOD и NASA EPIC, а также позволяет планировать публикацию этих фотографий через заданные интервалы времени.

## Особенности

- **Загрузка изображений SpaceX:** Получение изображений из определённых запусков SpaceX.
- **Загрузка изображений NASA APOD:** Получение изображений из сервиса NASA Astronomy Picture of the Day (APOD).
- **Загрузка изображений NASA EPIC:** Получение изображений с камеры NASA Earth Polychromatic Imaging Camera (EPIC).
- **Публикация в Telegram:** Отправка текстовых сообщений и фотографий в указанный Telegram-канал.
- **Запланированная публикация:** Автоматическая публикация фотографий из указанной директории в Telegram-канал через регулярные интервалы времени.

## Структура проекта

- **fetch_spacex_images.py:** Скрипт для загрузки изображений из запусков SpaceX.
- **fetch_nasa_apod.py:** Скрипт для загрузки изображений из NASA APOD.
- **fetch_epic_images.py:** Скрипт для загрузки изображений из NASA EPIC.
- **publish_photo.py:** Скрипт для публикации текстового сообщения и случайной фотографии в Telegram-канал.
- **publish_scheduled_photos.py:** Скрипт для запланированной публикации фотографий в Telegram-канал.
- **utils.py:** Утилитарные функции, используемые другими скриптами, включая загрузку изображений и получение случайных путей к фотографиям.
- **.env:** Файл окружения, содержащий переменные конфигурации, такие как API-ключи и токены бота Telegram.
- **requirements.txt:** Список зависимостей Python, необходимых для проекта.
- **README.md:** Документация проекта.

## Переменные окружения

Проект использует файл `.env` для хранения конфигурационных переменных. Требуются следующие переменные:

- `TELEGRAM_BOT_TOKEN`: Токен вашего бота Telegram для публикации сообщений и фотографий в канале.
- `TELEGRAM_CHANNEL_ID`: ID вашего Telegram-канала для публикации контента.
- `NASA_API_KEY`: API-ключ для доступа к изображениями из NASA (APOD, EPIC).
- `PUBLISH_INTERVAL`: Интервал в секундах для запланированной публикации (опционально). По умолчанию 4 часа (14400 секунд).

## Как это работает

1. **Загрузка изображений:**
   - **SpaceX:** Скрипт загружает изображения из API SpaceX, используя указанный ID запуска. Если ID запуска не указан, загружаются изображения последнего запуска.
   - **NASA APOD:** Скрипт загружает указанное количество изображений из сервиса NASA APOD.
   - **NASA EPIC:** Скрипт загружает изображения из сервиса NASA EPIC.

2. **Публикация в Telegram:**
   - **Текстовые сообщения:** Скрипт для отправки текстовых сообщений в Telegram-канал.
   - **Фотографии:** Скрипт для отправки случайной фотографии из указанной директории в Telegram-канал.

3. **Запланированная публикация:**
   - Скрипт для автоматической публикации фотографий из указанной директории в Telegram-канал через регулярные интервалы времени. Если все фотографии были опубликованы, скрипт начинает заново, обеспечивая непрерывный контент.

## Примеры запуска скриптов

### Загрузка изображений SpaceX

Для загрузки изображений из определённого запуска SpaceX:
```bash
python fetch_spacex_images.py --launch_id <LAUNCH_ID>
```

Если `launch_id` не указан, будут загружены изображения последнего запуска:
```bash
python fetch_spacex_images.py
```

### Загрузка изображений NASA APOD

Для загрузки определённого количества изображений из NASA APOD:
```bash
python fetch_nasa_apod.py --count <NUMBER_OF_IMAGES>
```

Если `count` не указан, будет загружено одно изображение:
```bash
python fetch_nasa_apod.py
```

### Загрузка изображений NASA EPIC

Для загрузки изображений из NASA EPIC:
```bash
python fetch_epic_images.py
```

### Публикация в Telegram-канал

Для отправки текстового сообщения и случайной фотографии в Telegram-канал:
```bash
python publish_photo.py
```

### Запланированная публикация фотографий

Для автоматической публикации фотографий из указанной директории в Telegram-канал через заданные интервалы времени:
```bash
python publish_scheduled_photos.py --interval <SECONDS>
```

Если `interval` не указан, будет использоваться интервал по умолчанию (4 часа):
```bash
python publish_scheduled_photos.py
```

## Установка

1. **Клонирование репозитория:**
   ```bash
   git clone <repository_url>
   cd <repository_name>
   ```

2. **Создание и активация виртуального окружения:**
   ```bash
   python -m venv venv
   source venv/bin/activate  # Для Windows используйте `venv\Scripts\activate`
   ```

3. **Установка зависимостей:**
   ```bash
   pip install -r requirements.txt
   ```

4. **Создание файла `.env`:**
   Добавьте ваши конфигурационные переменные в файл `.env`, как описано выше.